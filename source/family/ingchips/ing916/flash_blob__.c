/* Flash OS Routines (Automagically Generated)
 * Copyright (c) 2009-2015 ARM Limited
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
#include "flash_blob.h"

static const uint32_t ING91600_flash_prog_blob[] = {
    0xE00ABE00, 
    0xf89149fe, 0xf3602043, 0xf8811205, 0x48fc2043, 0x09806588, 0xf04f6048, 0x60887008, 0x30fff04f,
    0x610860c8, 0x61886148, 0xf89161c8, 0xf0400040, 0xf881003c, 0x78080040, 0x0002f040, 0x47707008,
    0xf89149f0, 0xf3602043, 0xf8811205, 0x48ec2043, 0x09806588, 0xf04f6048, 0x60887008, 0x30fff04f,
    0x610860c8, 0x61886148, 0xf89161c8, 0xf0400040, 0xf881003c, 0x78080040, 0x0002f040, 0x47707008,
    0x780148de, 0x0102f041, 0x47707001, 0x780148db, 0x0102f021, 0x47707001, 0x48d949d8, 0x47706588,
    0x780148d8, 0x0102f041, 0x47707001, 0x780148d5, 0x0102f021, 0x47707001, 0x48d149d2, 0x47706588,
    0x68c148d1, 0xd1fc07c9, 0xb5104770, 0xfff8f7ff, 0x68504acd, 0x40184bcd, 0x7000f440, 0x24056050,
    0x6850e004, 0xf4404018, 0x60507000, 0xf7ff6014, 0x6910ffe7, 0xd1f407c0, 0xb500bd10, 0xffe0f7ff,
    0x69504ac1, 0x20c0f420, 0x68506150, 0x40184bbf, 0x20066050, 0xf7ff6010, 0x6850ffd3, 0xf4404018,
    0x60507000, 0x60102005, 0xeb04f85d, 0xb500e7c8, 0xffc6f7ff, 0x694148b4, 0x21c0f421, 0x68416141,
    0x40114ab2, 0x21046041, 0xf85d6001, 0xe7b7eb04, 0x4605b530, 0xffb4f7ff, 0x68604cab, 0x400849ab,
    0x7000f440, 0xf7ff6060, 0xb2e8ffc8, 0x0a2860a0, 0x200160a0, 0xf7ff6020, 0xf7ffffa3, 0xe8bdffa6,
    0xe79d4030, 0xf7ffb500, 0xf44fff9b, 0xf7ff7000, 0xf85dffdf, 0xe793eb04, 0xf7ffb500, 0x489aff91,
    0xf0416941, 0x61410101, 0xeb04f85d, 0xb500e788, 0xff86f7ff, 0x68414894, 0x43114a95, 0xf85d6041,
    0xe77deb04, 0xf7ffb500, 0x4a8fff7b, 0xf4206950, 0x615020c0, 0x498d6850, 0x60504008, 0x601020ff,
    0xff6ef7ff, 0x498b6850, 0x60504008, 0xeb04f85d, 0xb570e766, 0x4606460c, 0xff62f7ff, 0x7600f1a6,
    0x4d812300, 0x5ce0e002, 0x1c5b60a8, 0xd3fa4293, 0xff73f7ff, 0xeb002002, 0x60282006, 0xff50f7ff,
    0xff53f7ff, 0x4070e8bd, 0xb570e74a, 0x4606460c, 0xff46f7ff, 0x7600f1a6, 0x4d732300, 0x5ce0e002,
    0x1c5b60a8, 0xd3fa4293, 0xff57f7ff, 0xea402032, 0x60282006, 0xff34f7ff, 0xff37f7ff, 0x4070e8bd,
    0xb510e72e, 0xf7ff4604, 0xf7ffff2b, 0x4966ff46, 0xea402081, 0x60082004, 0xff22f7ff, 0xff25f7ff,
    0x4010e8bd, 0xb510e71c, 0xf7ff4604, 0xf7ffff19, 0x495dff34, 0xea402020, 0x60082004, 0xff10f7ff,
    0xff13f7ff, 0x4010e8bd, 0xb510e70a, 0xf7ff4604, 0xf7ffff07, 0x4954ff22, 0xea402052, 0x60082004,
    0xfefef7ff, 0xff01f7ff, 0x4010e8bd, 0xb510e6f8, 0xf7ff4604, 0xf7fffef5, 0x494bff10, 0xea4020d8,
    0x60082004, 0xfeecf7ff, 0xfeeff7ff, 0x4010e8bd, 0xb500e6e6, 0xfee4f7ff, 0xfefff7ff, 0x20604942,
    0xf7ff6008, 0xf7fffedd, 0xf85dfee0, 0xe6d7eb04, 0xf7ffb500, 0x4a3cfed5, 0x493c6850, 0xf4404008,
    0x60507000, 0x60102005, 0xfecaf7ff, 0xb2c36910, 0x60102035, 0xfec4f7ff, 0xb2c06910, 0x2200ea43,
    0xfebef7ff, 0xbd004610, 0xf7ffb500, 0x4a2efeb9, 0xf4406950, 0x615020c0, 0xf4206850, 0xf44030fe,
    0x60507040, 0x6010209f, 0xfeaaf7ff, 0xbd006910, 0xf7ffb500, 0x4a24fea5, 0xf4206950, 0xf44020c0,
    0x61503000, 0x49216850, 0xf4404008, 0x60507000, 0x60102090, 0xfe94f7ff, 0xbd006910, 0x4603b500,
    0xfe8ef7ff, 0x69504a18, 0x20c0f420, 0x2080f440, 0x68506150, 0x40084915, 0x5080f440, 0x204b6050,
    0xf7ff6010, 0x6890fe7d, 0x68906018, 0x68906058, 0x68906098, 0xbd0060d8, 0x460bb530, 0xf7ff4605,
    0x4c09fe6f, 0xf4206960, 0x616020c0, 0x5c982200, 0x1c5260a0, 0xd9fa2aff, 0x0000e00e, 0x40140000,
    0x80000004, 0x40141000, 0x40150000, 0xfffe00ff, 0x01000020, 0xfeffff00, 0xfe6ff7ff, 0xea402042,
    0x60202005, 0xfe4cf7ff, 0x4030e8bd, 0xb530e64d, 0xf7ff4605, 0x4c40fe45, 0xf4206960, 0x616121c0,
    0xfe5bf7ff, 0xea402044, 0x60202005, 0xfe38f7ff, 0x4030e8bd, 0x493ae639, 0x4838b500, 0x49396588,
    0x20016588, 0xfdccf7ff, 0xf7ff2001, 0xf7fffde9, 0xf7fffe89, 0xf85dfe91, 0xe698eb04, 0xf7ffb500,
    0xf7fffe05, 0xf04ffe13, 0x68484180, 0x2080f420, 0x6a086048, 0x0040f020, 0x6a486208, 0x0020f020,
    0x20006248, 0x727af44f, 0x42901c40, 0x6a08d3fc, 0x0040f040, 0x6a486208, 0x0020f040, 0x6e086248,
    0xd10407c0, 0x6d814820, 0x41f0f441, 0xf85d6581, 0xe661eb04, 0x4616b5f0, 0x4607460c, 0x7c80f44f,
    0x4665e00b, 0xd80042ac, 0x462a4625, 0x46384631, 0xfe9bf7ff, 0x442f1b64, 0x2c00442e, 0x2000d1f1,
    0xb500bdf0, 0xffbaf7ff, 0xbd002000, 0x47702000, 0xf7ffb500, 0x2000feb8, 0xb570bd00, 0x23004604,
    0x5ce5e004, 0x42b55cd6, 0x1c5bd102, 0xd3f8428b, 0xbd7018e0, 0x0000e7ce, 0x40150000, 0x80000004,
    0x40140000, 0x40141000, 0x40100000, 0x00000000
};

// Start address of flash
static const uint32_t flash_start = 0x02000000;
// Size of flash
static const uint32_t flash_size = 0x00200000;

/**
* List of start and size for each size of flash sector - even indexes are start, odd are size
* The size will apply to all sectors between the listed address and the next address
* in the list.
* The last pair in the list will have sectors starting at that address and ending
* at address flash_start + flash_size.
*/
static const sector_info_t sectors_info_ing916[] = {
    0x02000000, 0x00001000,
};

static const program_target_t flash_ing916 = {
    0x20000507, // Init
    0x20000511, // UnInit
    0x12000000, // EraseChip
    0x20000515, // EraseSector
    0x20000539, // ProgramPage
    0x2000051f, // Verify

    // BKPT : start of blob + 1
    // RSB  : blob start + header + rw data offset
    // RSP  : stack pointer
    {
        0x20000001,
        0x20000550,
        0x20000800
    },

    0x20000000 + 0x00000A00,  // mem buffer location
    0x20000000,               // location to write prog_blob in target RAM
    sizeof(ING91600_flash_prog_blob),   // prog_blob size
    ING91600_flash_prog_blob,           // address of prog_blob
    0x00000100       // ram_to_flash_bytes_to_be_written
};
